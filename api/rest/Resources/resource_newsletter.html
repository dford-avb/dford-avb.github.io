---
layout: m1x_rest
title: Newsletter & Subscribers
---

<ul class="introduction-menu">
    <li><a href="#RESTAPI-Resource-Newsletter-RESTAPI-Newsletter">REST API: Newsletter</a>
        <ul>
            <li><a href="#RESTAPI-Resource-Newsletter-URI--newsletter--subscribers">URI: /newsletter/subscribers</a></li>
                <ul>
                    <li><a href="#RESTAPI-Resource-Newsletter-HTTPMethod-GET-newsletter--subscribers">HTTP Method: GET /newsletter/subscribers</a></li>
                </ul>
        </ul>
        <ul>
            <li><a href='#RESTAPI-Resource-Newsletter-URI--newsletter'>URI: /newsletter</a>
                <ul>
                    <li><a href='#RESTAPI-Resource-Newsletter-HTTPMethod-POST-newsletter'>HTTP Method: POST /newsletter</a></li>
                    <li><a href='#RESTAPI-Resource-Newsletter-HTTPMethod-PUT-newsletter'>HTTP Method: PUT /newsletter</a></li>
                    <li><a href='#RESTAPI-Resource-Newsletter-HTTPMethod-DELETE-newsletter'>HTTP Method: DELETE /newsletter</a></li>
                </ul>
            </li>
        </ul>
        <ul>
            <li><a href='#RESTAPI-Newsletter-Newsletter-URI--newsletter--email'>URI: /newsletter/email/:email/store/:store</a>
                <ul>
                    <li><a href='#RESTAPI-Resource-Newsletter-HTTPMethod-GET-newsletter--email'>HTTP Method: GET /newsletter/email/:email/store/:store</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul>

<h3><a name="RESTAPI-Resource-Newsletter-RESTAPI-Newsletter"></a>REST API: Newsletter</h3>

<h4><a name="RESTAPI-Resource-Newsletter-URI--newsletter--subscribers"></a>URI: /newsletter/subscribers</h4>

<p>Allows you to retrieve subscribers.</p>

<p><b>URL Structure</b>: http://openmagehost/api/rest/newsletter/subscribers<br/>
    <b>Version</b>: 1</p>

<h5><a name="RESTAPI-Resource-Newsletter-HTTPMethod-GET-newsletter--subscribers"></a>HTTP Method: GET /newsletter/subscribers</h5>

<p><b>Description</b>: Allows you to retrieve the list of existing subscribers.<br/>
    <b>Notes:</b>: Only Admin user can retrieve the list of subscribers.</p>

<p><b>Authentication</b>: Admin<br/>
    <b>Default Format</b>: JSON<br/>
    <b>Parameters</b>:<br/>
    <em>code</em></p>

<p><b>Example</b></p>
<div class='panelMacro'><table class='infoMacro'><tr><td>GET http://openmagehost/api/rest/newsletter/subscribers?code=protest1</td></tr></table></div>

<p>CUSTOM: adding parameter <pre>code</pre> with a store code will retrieve list of subscribers for specific store.</p>
<p>Without store code, the subscribers endpoint will return the first 100 records. Using filters such as <pre>page</pre> and <pre>limit</pre> will allow to paginate through subscribers</p>
<p>Only pagination filters will work with this endpoint, Attribute filters will not work.</p>


<p><b>Response Body:</b></p>
<p><b>response example: json</b></p>
<div class='panelmacro'><table class='infomacro'><tr><td>get http://openmagehost/api/rest/newsletter/subscribers?code=protest1</td></tr></table></div>

<p><b>response body</b>:</p>
<div class="panel" style="border-width: 1px;"><div class="panelcontent">
    <div class="code panel" style="border-width: 1px;"><div class="codecontent panelcontent">
        <div>
		<pre class="theme: default; brush: json; gutter: false">
[
    {
        "email": "cpw@test.test",
        "first_name": null,
        "last_name": null,
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": null,
        "mailmunch_sync_status": 0,
        "avb_subscriber_id": 523836
    },
    {
        "email": "good@email.com",
        "first_name": null,
        "last_name": null,
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "unsubscribed",
        "mailmunch_subscriber_id": null,
        "mailmunch_sync_status": 0,
        "avb_subscriber_id": 523859
    },
    {
        "email": "mailchimp.avb@gmail.com",
        "first_name": null,
        "last_name": null,
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": null,
        "mailmunch_sync_status": 0,
        "avb_subscriber_id": 524041
    },
    {
        "email": "alden@test.test",
        "first_name": null,
        "last_name": null,
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": null,
        "mailmunch_sync_status": 0,
        "avb_subscriber_id": 524959
    },
    {
        "email": "test@test.net",
        "first_name": null,
        "last_name": null,
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": null,
        "mailmunch_sync_status": 0,
        "avb_subscriber_id": 561500
    },
    {
        "email": "xdz@ddfd.com",
        "first_name": "test",
        "last_name": "test last",
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": 1,
        "mailmunch_sync_status": 0,
        "avb_subscriber_id": 561501
    },
    {
        "email": "xddddz@ddfd.com",
        "first_name": null,
        "last_name": null,
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": null,
        "mailmunch_sync_status": 0,
        "avb_subscriber_id": 561502
    },
    {
        "email": "testesataestfrdasfasd@example.net",
        "first_name": "test",
        "last_name": "test last",
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": 2,
        "mailmunch_sync_status": 1,
        "avb_subscriber_id": 561503
    },
    {
        "email": "testesataestffasd@example.net",
        "first_name": "test",
        "last_name": "test last",
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": 2,
        "mailmunch_sync_status": 1,
        "avb_subscriber_id": 561504
    },
    {
        "email": "testesataestsd@example.net",
        "first_name": "test",
        "last_name": "test last",
        "store_code": "protest1",
        "customer_id": 0,
        "message": null,
        "status": "subscribed",
        "mailmunch_subscriber_id": 2,
        "mailmunch_sync_status": 1,
        "avb_subscriber_id": 561505
    }
]
		</pre>
        </div>
    </div></div>
</div></div>

<h5><a name="RESTAPI-Resource-Newsletter-HTTPMethod-POST-newsletter"></a>HTTP Method: POST /newsletter</h5>

<p><b>Description</b>: Allows you to create a new subscriber.<br/>
    <b>Authentication</b>: Admin<br/>
    <b>Default Format</b>: JSON<br/>
    <b>Parameters</b>:</p>


<table><tbody>
<tr>
    <th> Name </th>
    <th> Description </th>
    <th> Required </th>
    <th> Type </th>
    <th> Example Value </th>
</tr>
<tr>
    <td> first_name </td>
    <td> The customer first name </td>
    <td> optional </td>
    <td> string </td>
    <td> John </td>
</tr>
<tr>
    <td> last_name </td>
    <td> The subscriber last name </td>
    <td> optional </td>
    <td> string </td>
    <td> Doe </td>
</tr>
<tr>
    <td> email </td>
    <td> The subscriber email address </td>
    <td> required </td>
    <td> string </td>
    <td> johny@example.com </td>
</tr>
<tr>
    <td> store_code </td>
    <td> AVBID associated with merchant </td>
    <td> required </td>
    <td> string </td>
    <td> protest1 </td>
</tr>
<tr>
    <td> external_subscriber_id </td>
    <td> subscriber id associated with third party app </td>
    <td> optional </td>
    <td> int </td>
    <td> 1 </td>
</tr>
</tbody></table>


<p><b>Example</b>:</p>
<div class='panelMacro'><table class='infoMacro'><tr><td>POST http://openmagehost/api/rest/newsletter</td></tr></table></div>

<p><b>Request Body</b>:</p>
<div class="panel" style="border-width: 1px;"><div class="panelContent">
    <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
        <div>
		<pre class="theme: Default; brush: json; gutter: false">
{
    "email": "john@example.net",
    "store_code": "protest1",
    "first_name": "John",
    "last_name": "Doe",
    "external_subscriber_id": 1
}
        </pre>
        </div>
    </div></div>

</div></div>


<p><b>Response</b>:<br/>
    If the subscriber was created successfully, we receive <b>Response HTTP Code</b> = 201, and a Response body with the subscriber information.</p>

<div class="panel" style="border-width: 1px;"><div class="panelContent">
    <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
        <div>
		<pre class="theme: Default; brush: json; gutter: false">
{
    "email": "testesataestsd@example.net",
    "first_name": "test",
    "last_name": "test last",
    "store_code": "protest1",
    "customer_id": 0,
    "message": "The subscription has been saved.",
    "status": "subscribed",
    "external_subscriber_id": 2,
    "external_sync_status": 1,
    "avb_subscriber_id": "561505"
}
        </pre>
        </div>
        <p><b>Note*: if external_subscriber_id is supplied, external_sync_status will automatically be applied, as the subscriber information is being provided through the external source.</b></p>
        <p><b>Note**: avb_subscriber_id is a primary auto-increment key</b></p>
        <p><b>Note***: If subscriber is existing customer, customer_id will automatically be linked from customer table</b></p>
    </div></div>
</div></div>

<h5><a name="RESTAPI-Resource-Newsletter-HTTPMethod-PUT-newsletter"></a>HTTP Method: PUT /newsletter</h5>

<p><b>Description</b>: Allows you to update an existing subscriber.<br/>
    <b>Authentication</b>: Admin<br/>
    <b>Default Format</b>: JSON<br/>
    <b>Parameters</b>:</p>


<table><tbody>
<tr>
    <th> Name </th>
    <th> Description </th>
    <th> Required </th>
    <th> Type </th>
    <th> Example Value </th>
</tr>
<tr>
    <td> first_name </td>
    <td> The customer first name </td>
    <td> optional </td>
    <td> string </td>
    <td> John </td>
</tr>
<tr>
    <td> last_name </td>
    <td> The subscriber last name </td>
    <td> optional </td>
    <td> string </td>
    <td> Doe </td>
</tr>
<tr>
    <td> email </td>
    <td> The subscriber email address </td>
    <td> required </td>
    <td> string </td>
    <td> johny@example.com </td>
</tr>
<tr>
    <td> store_code </td>
    <td> AVBID associated with merchant </td>
    <td> required </td>
    <td> string </td>
    <td> protest1 </td>
</tr>
<tr>
    <td> is_subscribed </td>
    <td> change status of subscriber </td>
    <td> optional </td>
    <td> int </td>
    <td> 1 </td>
</tr>
<tr>
    <td> external_subscriber_id </td>
    <td> subscriber id associated with third party app </td>
    <td> optional </td>
    <td> int </td>
    <td> 1 </td>
</tr>
</tbody></table>


<p><b>Example</b>:</p>
<div class='panelMacro'><table class='infoMacro'><tr><td>PUT http://openmagehost/api/rest/newsletter</td></tr></table></div>

<p><b>Request Body</b>:</p>
<div class="panel" style="border-width: 1px;"><div class="panelContent">
    <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
        <div>
		<pre class="theme: Default; brush: json; gutter: false">
{
    "email": "john@example.net",
    "store_code": "protest1",
    "first_name": "John",
    "last_name": "Doe",
    "external_subscriber_id": 2
    "is_subscribed": 1
}
        </pre>
        </div>
    </div></div>

</div></div>


<p><b>Response</b>:<br/>
    If the subscriber was updated successfully, we receive <b>Response HTTP Code</b> = 201, and a Response body with the subscriber information.</p>

<div class="panel" style="border-width: 1px;"><div class="panelContent">
    <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
        <div>
		<pre class="theme: Default; brush: json; gutter: false">
{
    "email": "testesataestsd@example.net",
    "first_name": "test",
    "last_name": "test last",
    "store_code": "protest1",
    "customer_id": 0,
    "message": "The subscription has been updated to subscribed.",
    "status": "subscribed",
    "external_subscriber_id": 2,
    "external_sync_status": 1,
    "avb_subscriber_id": "561505"
}
        </pre>
        </div>
        <p><b>Note*: if external_subscriber_id is supplied, external_sync_status will automatically be applied, as the subscriber information is being provided through the external source.</b></p>
        <p><b>Note**: avb_subscriber_id is a primary auto-increment key</b></p>
        <p><b>Note***: If subscriber is existing customer, customer_id will automatically be linked from customer table</b></p>
    </div></div>
</div></div>

<h5><a name="RESTAPI-Resource-Newletter-HTTPMethod-DELETE-newsletter"></a>HTTP Method: DELETE /newsletter</h5>

<p><b>Description</b>: Allows you to unsubscribe an existing subscriber. (Note this will not delete record)<br/>
    <b>Authentication</b>: Admin<br/>
    <b>Default Format</b>: JSON<br/>
    <b>Parameters</b>:</p>

<table><tbody>
<tr>
    <th> Name </th>
    <th> Description </th>
    <th> Required </th>
    <th> Type </th>
    <th> Example Value </th>
</tr>
<tr>
    <td> email </td>
    <td> The subscriber email address </td>
    <td> required </td>
    <td> string </td>
    <td> johny@example.com </td>
</tr>
<tr>
    <td> store_code </td>
    <td> AVBID associated with merchant </td>
    <td> required </td>
    <td> string </td>
    <td> protest1 </td>
</tr>
</tbody></table>


<p><b>Example</b>:</p>
<div class='panelMacro'><table class='infoMacro'><tr><td>DELETE http://openmagehost/api/rest/newsletter</td></tr></table></div>

<p><b>Request Body</b>:</p>
<div class="panel" style="border-width: 1px;"><div class="panelContent">
    <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
        <div>
		<pre class="theme: Default; brush: json; gutter: false">
            {
                "email": "john@example.net",
                "store_code": "protest1"
            }
        </pre>
        </div>
    </div></div>

</div></div>

<p><b>Response</b>:<br/>
    If the subscriber was unsubscribed successfully, we receive <b>Response HTTP Code</b> = 201, and a Response body with the subscriber information.</p>

<div class="panel" style="border-width: 1px;"><div class="panelContent">
    <div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
        <div>
		<pre class="theme: Default; brush: json; gutter: false">
{
    "email": "john@example.net",
    "first_name": "John",
    "last_name": "Doe",
    "store_code": "protest1",
    "customer_id": 0,
    "message": "The subscription has been updated to unsubscribed.",
    "status": "unsubscribed",
    "external_subscriber_id": 2,
    "external_sync_status": 1,
    "avb_subscriber_id": "561505"
}
        </pre>
        </div>
        <p><b>Note*: if external_subscriber_id is supplied, external_sync_status will automatically be applied, as the subscriber information is being provided through the external source.</b></p>
        <p><b>Note**: avb_subscriber_id is a primary auto-increment key</b></p>
        <p><b>Note***: If subscriber is existing customer, customer_id will automatically be linked from customer table</b></p>
    </div></div>
</div></div>


<h4><a name="RESTAPI-Resource-Newsletter-URI--newsletter--email"></a>URI: /newsletter/email/:email/store/:store</h4>

<p>Allows you to retrieve an existing subscriber.</p>

<p><b>URL Structure</b>: http://openmagehost/api/rest/newsletter/email/:email/store/:store<br/>
    <b>Version</b>: 1</p>

<h5><a name="RESTAPI-Resource-Newsletter-HTTPMethod-GET-newsletter--email"></a>HTTP Method: GET /newsletter/email/:email/store/:store</h5>

<p><b>Description</b>: Allows you to retrieve information on an existing subscriber.<br/>

<p><b>Authentication</b>: Admin<br/>
    <b>Default Format</b>: JSON<br/>
    <b>Parameters</b>:<br/>
    <em>email</em><em>store</em></p>

<p><b>Example</b>:</p>
<div class='panelMacro'><table class='infoMacro'><tr><td>GET http://openmagehost/api/rest/newsletter/email/john@example.net/store/protest1</td></tr></table></div>

<p><b>Response Body</b>:</p>
<p><b>response example: json</b></p>
<div class='panelmacro'><table class='infomacro'><tr><td>get http://openmagehost/api/rest/newsletter/email/:email/store/protest1</td></tr></table></div>

<p><b>response body</b>:</p>
<div class="panel" style="border-width: 1px;"><div class="panelcontent">
    <div class="code panel" style="border-width: 1px;"><div class="codecontent panelcontent">
        <div>
		<pre class="theme: default; brush: java; gutter: false">

{
    "email": "david.ford@avb.net",
    "first_name": "Test",
    "last_name": "Test",
    "store_code": "protest1",
    "customer_id": 146622,
    "message": null,
    "status": "subscribed",
    "external_subscriber_id": null,
    "external_sync_status": 0,
    "avb_subscriber_id": 394284
}
		</pre>
        </div>
    </div></div>
</div></div>




